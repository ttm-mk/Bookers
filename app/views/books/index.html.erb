<h1>Books</h1>

<table>

<!--thred-->
  <thred>
    <tr>
      <th class="th_title">Title</th>
      <th class="th_body">Body</th>
      <th></th>
    </tr>
  </thred>

<!--tbody-->
  <tbody>
    <% @books.each do |book| %>
     <tr>
       <td class="tr_title"><%= book.title %></td>
       <td class="tr_body"><%= book.body %></td>
       <td class= "link">
        <%= link_to "Show", book_path(book.id) %>&nbsp;
        <%= link_to "Edit", edit_book_path(book.id) %>&nbsp;
        <%= link_to "Destroy", book_path(book.id), method: :delete, "data-confirm" => "Are you sure?" %>
       </td>
     </tr>
    <% end %>
  </tbody>

</table>

<!--error-message-->
<% if @errors.any? %>

  <div class="error">
    
    <% if @errors.count >= 2 %>
       <div class="error-title">
         <%= @errors.count %>errors have occurred. 
       </div>
       <ul>
         <% @errors.full_messages.each do |message| %>
         <li><%= message %></li>
         <% end %>
       </ul>
    
    <% else @errors.count == 1 %>
       <div class="error-title">
         <%= @errors.count %>error has occurred. 
       </div>
       <ul>
         <% @errors.full_messages.each do |message| %>
         <li><%= message %></li>
         <% end %>
       </ul>
       
    <% end %>
    
  </div>
<% end %>


<!--new-form-->
<div class="new-form">
  <h2>New book</h2>
  <%= form_with model: @book, url: '/books', method: :post do |f| %>
    <p>Title</p>
    <%= f.text_field :title %>
    <p>Body</p>
    <%= f.text_area :body %>
    <p><%= f.submit "Create Book" %></p>
  <% end %>
</div>
